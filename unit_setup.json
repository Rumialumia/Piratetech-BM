{
    "first_trigger": "welcome_prompt",

    "triggers":
    {
		"welcome_prompt":
		{
			"type": "prompt",
			"size": [1280,720],

			"actns":
			[
				{
					"actn": "remove_trigger",
					"args": "welcome_prompt"
				},
				
				{
					"actn": "trigger",
					"args": "choose_name"
				}				
			],

			"frames":
			[
				{
					"size": [1280, 720],

					"image": "images/CHR/JUMPSHIP.bmp"
				}
			]
		},

		"choose_name":
		{
			"actns":
			[
				{
					"actn": "rand_pilot_name",
					"args": 
					{
						"var": "merc_name"
					}
				},

				{
					"actn": "trigger",
					"args": "get_merc_name_prompt"
				}
			]
		},

		"get_merc_name_prompt":
		{
			"esc_enabled": false,

			"type": "sub_prompt",
			"size": 500,

			"title": "What's Your Name?",

			"text_input":
			{
				"game_var_ref": "merc_name_input",

				"default": "{merc_name}",
				"var": "merc_name",
				"type": "alphanumeric",
				"max_len": 32
			},

			"options":
			[
				{
					"text": "OK",
					"actns":
					[
						{
							"actn": "set_crew_name",
							"args":
							{
								"crew": "{player_crew:0}",
								"name": "{merc_name}"
							}							 
						},

						{
							"actn": "trigger",
							"args": "get_merc_gender"
						}
					]					
				},

				{
					"text": "Random Name",
					"select_closes": false,

					"actns":
					[
						{
							"actn": "trigger",
							"args": "randomize_merc_name"
						}
					]
				}
			]
		},

		"randomize_merc_name":
		{
			"actns":
			[
				{
					"actn": "rand_pilot_name",
					"args": 
					{
						"var": "merc_name"
					}
					
				},

				{
					"actn": "update_text_input",
					"args":
					{
						"game_var_ref": "merc_name_input",
						"val": "{merc_name}"
					}
				}
			]
		},

		"get_merc_gender":
		{
			"esc_enabled": false,

			"type": "sub_prompt",
			"size": 500,

			"title": "What's Your Gender?",

			"options":
			[
				{
					"text": "Female",
					"actns":
					[
						{
							"actn": "set_crew_gender",
							"args":
							{
								"crew": "{player_crew:0}",
								"gender": "female"
							}							 
						},

						{
							"actn": "trigger",
							"args": "randomize_merc_portrait"
						},

						{
							"actn": "trigger",
							"args": "get_merc_portrait"
						}
					]
				},

				{
					"text": "Male",
					"actns":
					[
						{
							"actn": "set_crew_gender",
							"args":
							{
								"crew": "{player_crew:0}",
								"gender": "male"
							}							 
						},

						{
							"actn": "trigger",
							"args": "randomize_merc_portrait"
						},

						{
							"actn": "trigger",
							"args": "get_merc_portrait"
						}
					]
				},

				{
					"text": "Non-Binary",
					"actns":
					[
						{
							"actn": "set_crew_gender",
							"args":
							{
								"crew": "{player_crew:0}",
								"gender": "non-binary"
							}							 
						},

						{
							"actn": "trigger",
							"args": "randomize_merc_portrait"
						},

						{
							"actn": "trigger",
							"args": "get_merc_portrait"
						}
					]
				}
			]
		},

		"randomize_merc_portrait":
		{
			"actn": "rand_pilot_portrait",
			"args": "{player_crew:0}"
		},

		"get_merc_portrait":
		{
			"esc_enabled": false,
		
			"type": "sub_prompt",
			"size": [400, 364],
		
			"frames":
			[
				{
					"size": [400, 250],
					
					"title": "Select a Portrait"
				},
		
				{
					"pos": [125,70],
					"size": [150,150],
					"border": 0,
		
					"bg_color": [255,0,0],
		
					"image": "{player_crew:0:orig_image}",
					"image_dynamic": true
				},
		
				{
					"size": [400, 114],
					"pos": [0,250],
		
					"options":
					[
						{
							"text": "OK",
							"actns":
							[
								{
									"actn": "trigger",
									"args": "choose_era"
								}
							]
						},
		
						{
							"text": "Randomize",
							"select_closes": false,
							"actns":
							[
								{
									"actn": "trigger",
									"args": "randomize_merc_portrait"
								}
							]
						}
					]
				}
			]
		},

		"choose_era":
		{
			"esc_enabled": false,

			"type": "sub_prompt",
			"size": 500,

			"title": "Starting Era",

			"options":
			[
				{
					"text": "2398",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 2398
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "2412",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 2412
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "2570",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 2570
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "2780",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 2780
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "2900",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 2900
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3025",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3025
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3030",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3030
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},

				{
					"text": "3039",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3039
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},

				{
					"text": "3049",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3049
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},

				{
					"text": "3050",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3050
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3052",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3052
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3062",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3062
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3068",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3068
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3081",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3081
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3131",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3131
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				},
				{
					"text": "3150",
					"actns":
					[
						{
							"actn": "update_game_date",
							"args":
							{
								"set":
								{
									"day": 1,
									"month": "January",
									"year": 3150
								}
							}
						},

						{
							"actn": "trigger",
							"args": "choose_house"
						}
					]
				}
			]
		},

		"choose_mechs":
		{
			"esc_enabled": false,

			"type": "sub_prompt",
			"size": 500,

			"title": "Starting Merc Unit",

			"options":
			[
				{
					"text": "Established (Easy)",
					"actns":
					[
						{
							"actn": "rand_var",
							"args":
							{
								"var": "money",
								"val": [6000000,7000000]
							}
						},

						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 30,
								"max_ton": 45,
								"num_units": 1,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 50,
								"max_ton": 70,
								"num_units": 3,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["regular"]
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["regular"]
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["regular", "green"]
							}
						},

						{
							"actn": "trigger",
							"args": "choose_unit_name"
						}
					]
				},

				{
					"text": "Regular (Normal)",
					"actns":
					[
						{
							"actn": "rand_var",
							"args":
							{
								"var": "money",
								"val": [3000000,5000000]
							}
						},
						
						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 20,
								"max_ton": 35,
								"num_units": 1,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 40,
								"max_ton": 50,
								"num_units": 2,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 55,
								"max_ton": 65,
								"num_units": 1,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["regular"]
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["green", "regular"]
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["green"]
							}
						},

						{
							"actn": "trigger",
							"args": "choose_unit_name"
						}
					]
				},

				{
					"text": "Small (Hard)",
					"actns":
					[
						{
							"actn": "rand_var",
							"args":
							{
								"var": "money",
								"val": [2000000,3000000]
							}
						},						

						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 20,
								"max_ton": 35,
								"num_units": 2,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_player_unit",
							"args": 
							{
								"min_ton": 40,
								"max_ton": 45,
								"num_units": 1,
								"faction": "{starting_faction}"
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["green"]
							}
						},

						{
							"actn": "add_to_list",
							"args": 
							{
								"list": "player_crew",
								"type": "crew",
								"skill_level": ["green", "regular"]
							}
						},

						{
							"actn": "trigger",
							"args": "choose_unit_name"
						}
					]
				}
			]
		},

		"choose_unit_name":
		{
			"actns":
			[
				{
					"actn": "rand_force_name",
					"args": "merc_unit_name"
				},

				{
					"actn": "trigger",
					"args": "get_merc_unit_name_prompt"
				}
			]
		},

		"get_merc_unit_name_prompt":
		{
			"esc_enabled": false,

			"type": "sub_prompt",
			"size": 500,

			"title": "Merc Unit's Name",

			"text_input":
			{
				"game_var_ref": "merc_unit_input",

				"default": "{merc_unit_name}",
				"var": "merc_unit_name",
				"type": "alphanumeric",
				"max_len": 32
			},

			"options":
			[
				{
					"text": "OK",
					"actn": "trigger",
					"args": "launch_career"
				},

				{
					"text": "Random Name",
					"select_closes": false,

					"actns":
					[
						{
							"actn": "trigger",
							"args": "randomize_merc_unit_name"
						}
					]
				}
			]
		},

		"randomize_merc_unit_name":
		{
			"actns":
			[
				{
					"actn": "rand_force_name",
					"args": "merc_unit_name"
				},

				{
					"actn": "update_text_input",
					"args":
					{
						"game_var_ref": "merc_unit_input",
						"val": "{merc_unit_name}"
					}
				}
			]
		},

		"choose_house":
		{
			"esc_enabled": false,

			"type": "sub_prompt",
			"size": 500,

			"title": "Choose Your Starting House",

			"options":
			[
				{
					"text": "Steiner",
					"actns":
					[
						{
							"if": "year < 3050",
							"true":
							{
								"actn": "rand_var",
								"args":
								{
									"var": "start_planet",
									"val": 
									[
										"Timbuktu",
										"Valloire",
										"Niangol",
										"Anembo",
										"Anywhere",
										"Winfield"
									]
								}
							},
							"false":
							{
								"actn": "rand_var",
								"args":
								{
									"var": "start_planet",
									"val": 
									[
										"Timbuktu",
										"Valloire",
										"Niangol",
										"Anembo"
									]
								}
							}
						},

						{
							"actn": "set_planet",
							"args": "{start_planet}"
						},

						{
							"actn": "var",
							"args": "reputation:steiner = 70"
						},

						{
							"actn": "var",
							"args": "starting_faction = 'steiner"
						},

						{
							"actn": "trigger",
							"args": "choose_mechs"
						}
					]
				},

				{
					"text": "Davion",
					"actns":
					[
						{
							"actn": "rand_var",
							"args":
							{
								"var": "start_planet",
								"val": 
								[
									"Baxley",
									"Delacambre",
									"Cogdell",
									"Baxley",
									"Great Gorge",
									"Hyalite",
									"Noatak"
								]
							}
						},

						{
							"actn": "set_planet",
							"args": "{start_planet}"
						},

						{
							"actn": "var",
							"args": "reputation:davion = 70"
						},

						{
							"actn": "var",
							"args": "starting_faction = 'davion"
						},

						{
							"actn": "trigger",
							"args": "choose_mechs"
						}
					]
				},

				{
					"text": "Kurita",
					"actns":
					[
						{
							"if": "year < 3039",
							"true":
							{
								"actn": "rand_var",
								"args":
								{
									"var": "start_planet",
									"val": 
									[
										"Galedon V",
										"New Samarkand",
										"Tabayama",
										"Land's End",
										"Qandahar",
										"Rasalhague"
									]
								}
							},
							"false":
							{
								"actn": "rand_var",
								"args":
								{
									"var": "start_planet",
									"val": 
									[
										"Galedon V",
										"New Samarkand",
										"Tabayama",
										"Land's End",
										"Qandahar"
									]
								}
							}
							
						},

						{
							"actn": "set_planet",
							"args": "{start_planet}"
						},

						{
							"actn": "var",
							"args": "reputation:kurita = 70"
						},

						{
							"actn": "var",
							"args": "starting_faction = 'kurita"
						},						

						{
							"actn": "trigger",
							"args": "choose_mechs"
						}
					]
				},

				{
					"text": "Liao",
					"actns":
					[
						{
							"actn": "rand_var",
							"args":
							{
								"var": "start_planet",
								"val": 
								[
									"Zanzibar",
									"Turin",
									"Menke",
									"Buenos Aires"
								]
							}
						},

						{
							"actn": "set_planet",
							"args": "{start_planet}"
						},{
							"actn": "var",
							"args": "reputation:liao = 70"
						},

						{
							"actn": "var",
							"args": "starting_faction = 'liao"
						},						

						{
							"actn": "trigger",
							"args": "choose_mechs"
						}
					]
				},

				{
					"text": "Marik",
					"actns":
					[
						{
							"actn": "rand_var",
							"args":
							{
								"var": "start_planet",
								"val": 
								[
									"Claybrooke",
									"Cirebon",
									"Lesnovo",
									"Silver",
									"Chalouba"
								]
							}
						},

						{
							"actn": "set_planet",
							"args": "{start_planet}"
						},

						{
							"actn": "var",
							"args": "reputation:marik = 70"
						},

						{
							"actn": "var",
							"args": "starting_faction = 'marik"
						},

						{
							"actn": "trigger",
							"args": "choose_mechs"
						}
					]
				},

				{
					"text": "No Affiliation",
					"actns":
					[
						{
							"actn": "var",
							"args": "start_planet = 'Outreach"
						},

						{
							"actn": "set_planet",
							"args": "{start_planet}"
						},						

						{
							"actn": "var",
							"args": "starting_faction = 'any"
						},					

						{
							"actn": "trigger",
							"args": "choose_mechs"
						}
					]
				}
			]
		},

		"launch_career":
		{
			"actns":
			[
				{
					"actn": "print",
					"args": "starting new career with {starting_faction} on {start_planet}"
				},

				{
					"actn": "var",
					"args": "cur_planet = {start_planet}"
				},

				{
					"actn": "var",
					"args": "cur_planet_info = get_planet_info:{start_planet}"
				},

				{
					"actn": "var",
					"args": "cur_planet_faction = cur_planet_info:faction"
				},

				{
					"actn": "{cur_planet_info:actn}",
					"args": "{cur_planet_info:args}"
				},

				{
					"actn": "close_prompt"
				}
			]
		}
    }
}
